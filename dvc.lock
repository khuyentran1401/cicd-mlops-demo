schema: '2.0'
stages:
  process:
    cmd: python src/process_data.py
    deps:
    - path: data/raw
      md5: 84a0e37242f885ea418b9953761d35de.dir
      size: 84199
      nfiles: 2
    - path: src/process_data.py
      md5: 8c10093c63780b397c4b5ebed46c1154
      size: 1157
    params:
      params.yaml:
        data:
          raw: data/raw/winequality-red.csv
          intermediate: data/intermediate
        process:
          feature: quality
          test_size: 0.2
    outs:
    - path: data/intermediate
      md5: 3377ebd11434a04b64fe3ca5cb3cc455.dir
      size: 194875
      nfiles: 4
  train:
    cmd: python src/train.py
    deps:
    - path: data/intermediate
      md5: 3377ebd11434a04b64fe3ca5cb3cc455.dir
      size: 194875
      nfiles: 4
    - path: src/train.py
      md5: 076c16fa213e8055a28a68cc3ba12438
      size: 1482
    params:
      params.yaml:
        data:
          raw: data/raw/winequality-red.csv
          intermediate: data/intermediate
        model: model/svm.pkl
        train:
          hyperparameters:
            svm__kernel:
            - linear
            - rbf
            svm__C:
            - 0.1
            - 1
            - 10
            - 100
            svm__gamma:
            - 0.1
            - 1
            - 10
          grid_search:
            cv: 5
            scoring: accuracy
            verbose: 3
    outs:
    - path: model/svm.pkl
      md5: 183feb1bc796820420b8f9dbb91cfca9
      size: 213903
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/intermediate
      md5: 3377ebd11434a04b64fe3ca5cb3cc455.dir
      size: 194875
      nfiles: 4
    - path: model
      md5: 3851687d6bb77144ee00ba93d523edcc.dir
      size: 213903
      nfiles: 1
    - path: src/evaluate.py
      md5: 509f83286222487338f9bcca981475c3
      size: 727
    params:
      params.yaml:
        data:
          raw: data/raw/winequality-red.csv
          intermediate: data/intermediate
        model: model/svm.pkl
    outs:
    - path: dvclive/metrics.json
      md5: d883d3a4cc9dddb29de51edbbe9cd636
      size: 24
